linux设备3种类型
1字符设备：必须以串行顺序依次进行访问的设备
2块设备：可以按任意顺序进行访问，以块为单位进行操作
12都使用文件系统接口编程open，close，read，write
3网络设备：面向数据包的接收和发送，不适用文件系统接口编程，使用socket

块设备的访问有两种方式
1使用原始设备访问如/dev/sdb
2使用文件系统虚拟出的文件名称访问

冯诺依曼结构
存储器的程序和数据在一起，共用总线（地址和数据）
哈佛结构
存储器的程序和数据分开，独立使用总线（地址和数据）
改进的模型程序和数据存储器分开，但是复用总线（地址和数据）

通用处理器GPP
数字信号处理器DSP
硬件乘法器
卷积，数字滤波，FFT，矩阵运算
浮点DSP硬件浮点运算
专用处理器ASP及ASIC

CFI
SRAM NOR
片上执行
NAND只可块操作，专用接口

对于NOR，NAND等提供了MTD子系统，其上运行的YFSS2，JFFS3，UBIFS等具备擦出和负载均衡能力的文件系统

外设接口
RS232 RS485
I2C SPI CAN
USB SDIO LAN
EMMC I3C MIPI

linux2.6内核
调度器CFS算法EDF算法
内核抢占，线程模型NPTL
虚拟内存 反向映射
文件系统 btrfs
总线、设备、驱动模型

驱动drivers与arch独立，kernel fs ipc net等与硬件剥离
进程调度 内存管理 VFS net IPC
进程调度 CFS算法EDF算法
内存管理buddy算法slab flusher kswapd
VFS 为各个不同文件系统封装为统一接口，还有利用net的NFS，利用mm的ramdisk
NET
IPC 信号量，共享内存，消息队列，管道，UNIX域套接字

早期bootloader以ATAG格式形式封装启动信息，把其地址放入r2寄存器，linux支持设备树后，bootloader把dtb地址放入r2，可以通过配置把dtb和zImage绑定，r2不需要放dtb地址了
bootrom--bootloader--linux--init运行并生成进程树
arm-linux-guneabihf-gcc使用硬件浮点FPU处理浮点数比arm-linux-guneabi-gcc编译的程序处理浮点数运算的性能好得多

驱动模块
insmod modprobe加载模块，rmmod卸载模块
驱动程序中使用request_module(module_name)加载模块
声明时加_init的函数和声明时加_initdata的变量将在初始化完成后释放内存空间
模块卸载函数和变量中加_exit _exitdata表示如果模块直接编译进内核时，这些变量和函数将被忽略，因为不会使用卸载函数
